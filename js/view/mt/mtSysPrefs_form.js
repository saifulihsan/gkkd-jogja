jun.MtSysPrefsWin=Ext.extend(Ext.Window,{title:"Setting",modez:1,width:400,height:145,layout:"form",modal:!0,padding:5,closeForm:!1,iswin:!0,initComponent:function(){this.items=[{xtype:"form",frame:!1,bodyStyle:"background-color: #E4E4E4; padding: 10px",id:"form-MtSysPrefs",labelWidth:150,labelAlign:"left",layout:"form",ref:"formz",border:!1,items:[{xtype:"combo",triggerAction:"all",fieldLabel:"Akun Penjualan",typeAhead:!0,allowBlank:!1,forceSelection:!0,mode:"local",store:jun.rztMtChartMaster,hiddenName:"MtSysPrefs[akun_penjualan]",hiddenValue:"account_code",valueField:"account_code",matchFieldWidth:!1,itemSelector:"div.search-item",tpl:new Ext.XTemplate('<tpl for="."><div class="search-item">','<h3><span">{account_code} - {account_name}</span></h3><br />{description}',"</div></tpl>"),displayField:"account_code",ref:"../akun_penjualan",listWidth:300,anchor:"100%",lastQuery:""},{xtype:"combo",typeAhead:!0,triggerAction:"all",fieldLabel:"Kelompok Other Rental",lazyRender:!0,mode:"local",allowBlank:!1,forceSelection:!0,store:jun.rztMtKelompokPelanggan,hiddenName:"MtSysPrefs[kelompok_other_rental]",hiddenValue:"id_kelompok",valueField:"id_kelompok",displayField:"nama",ref:"../id_kelompok",lastQuery:"",anchor:"100%"}]}],jun.rztMtChartMaster.reload(),jun.rztMtKelompokPelanggan.reload(),this.fbar={xtype:"toolbar",items:[{xtype:"button",text:"Simpan & Tutup",ref:"../btnSaveClose"},{xtype:"button",text:"Batal",ref:"../btnCancel"}]},jun.MtSysPrefsWin.superclass.initComponent.call(this),this.on("activate",this.onActivate,this),this.btnSaveClose.on("click",this.onbtnSaveCloseClick,this),this.btnCancel.on("click",this.onbtnCancelclick,this)},onActivate:function(){var a=jun.getMtSysPrefs("akun_penjualan");this.akun_penjualan.setValue(a.data.value);var b=jun.getMtSysPrefs("kelompok_other_rental");this.id_kelompok.setValue(b.data.value)},btnDisabled:function(a){this.btnSaveClose.setDisabled(a)},saveForm:function(){this.btnDisabled(!0);var a="Mahkotrans/MtSysPrefs/create/";Ext.getCmp("form-MtSysPrefs").getForm().submit({url:a,timeOut:1e3,scope:this,success:function(a,b){jun.rztMtSysPrefs.reload();var c=Ext.decode(b.response.responseText);Ext.MessageBox.show({title:"Info",msg:c.msg,buttons:Ext.MessageBox.OK,icon:Ext.MessageBox.INFO}),Ext.getCmp("form-MtSysPrefs").getForm().reset(),this.btnDisabled(!1),this.close()},failure:function(a,b){var c=Ext.decode(b.response.responseText);Ext.MessageBox.show({title:"Warning",msg:c.msg,buttons:Ext.MessageBox.OK,icon:Ext.MessageBox.WARNING}),this.btnDisabled(!1)}})},onbtnSaveCloseClick:function(){this.closeForm=!0,this.saveForm(!0)},onbtnSaveclick:function(){this.closeForm=!1,this.saveForm(!1)},onbtnCancelclick:function(){this.close()}});