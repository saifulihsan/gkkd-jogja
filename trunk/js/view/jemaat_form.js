jun.JemaatWin=Ext.extend(Ext.Window,{title:"Data Jemaat",iconCls:"asp-user3",modez:1,width:500,height:380,layout:"form",modal:!0,padding:5,closeForm:!1,initComponent:function(){this.items=[{xtype:"form",frame:!1,bodyStyle:"background-color: #E4E4E4; padding: 10px",id:"form-Jemaat",labelWidth:100,labelAlign:"left",layout:"form",ref:"formz",border:!1,items:[{xtype:"textfield",fieldLabel:"Nomor Induk",hideLabel:!1,name:"nij",id:"nijid",ref:"../nij",maxLength:100,anchor:"100%"},{xtype:"textfield",fieldLabel:"Nama lengkap",hideLabel:!1,name:"real_name",id:"real_nameid",ref:"../real_name",maxLength:100,anchor:"100%"},{xtype:"xdatefield",ref:"../birth_date",fieldLabel:"Tanggal Lahir",name:"birthdate",id:"birthdateid",format:"d M Y",anchor:"100%"},new jun.cmbGender({fieldLabel:"Jenis Kelamin",hideLabel:!1,width:200,height:20,name:"gender",ref:"../cmbGender",id:"genderid"}),{xtype:"textfield",fieldLabel:"Phone",hideLabel:!1,name:"phone",id:"phoneid",ref:"../phone",maxLength:30,anchor:"100%"},{xtype:"textfield",fieldLabel:"E-mail",hideLabel:!1,name:"email",id:"emailid",ref:"../email",maxLength:100,anchor:"100%"},{xtype:"textfield",fieldLabel:"Pendidikan",hideLabel:!1,name:"education",id:"educationid",ref:"../education",maxLength:30,anchor:"100%"},{xtype:"textarea",fieldLabel:"Alamat",hideLabel:!1,name:"alamat",id:"alamatid",ref:"../alamat",anchor:"100%"},{xtype:"textfield",fieldLabel:"Kota Asal",hideLabel:!1,name:"hometown",id:"hometownid",ref:"../hometown",maxLength:30,anchor:"100%"},new jun.comboActive({fieldLabel:"Status",hideLabel:!1,width:200,height:20,name:"inactive",ref:"../cmbActive",id:"statusid"})]}],this.fbar={xtype:"toolbar",items:[{xtype:"button",text:"Simpan",hidden:!1,ref:"../btnSave"},{xtype:"button",text:"Simpan & Tutup",ref:"../btnSaveClose"},{xtype:"button",text:"Batal",ref:"../btnCancel"}]},jun.JemaatWin.superclass.initComponent.call(this),this.on("activate",this.onActivate,this),this.btnSaveClose.on("click",this.onbtnSaveCloseClick,this),this.btnSave.on("click",this.onbtnSaveclick,this),this.btnCancel.on("click",this.onbtnCancelclick,this),this.modez==1||this.modez==2?this.btnSave.setVisible(!1):this.btnSave.setVisible(!0)},btnDisabled:function(a){this.btnSave.setDisabled(a),this.btnSaveClose.setDisabled(a)},onActivate:function(){this.btnSave.hidden=!1},saveForm:function(){this.btnDisabled(!0);var a;this.modez==1||this.modez==2?a="general/Jemaat/update/id/"+this.id:a="general/Jemaat/create/",Ext.getCmp("form-Jemaat").getForm().submit({url:a,timeOut:1e3,scope:this,success:function(a,b){jun.rztJemaat.reload();var c=Ext.decode(b.response.responseText);Ext.MessageBox.show({title:"Info",msg:c.msg,buttons:Ext.MessageBox.OK,icon:Ext.MessageBox.INFO}),this.closeForm&&this.close(),this.modez==0&&Ext.getCmp("form-Jemaat").getForm().reset(),this.btnDisabled(!1)},failure:function(a,b){var c=Ext.decode(b.response.responseText);Ext.MessageBox.show({title:"Warning",msg:c.msg,buttons:Ext.MessageBox.OK,icon:Ext.MessageBox.WARNING}),this.btnDisabled(!1)}})},onbtnSaveCloseClick:function(){this.closeForm=!0,this.saveForm(!0)},onbtnSaveclick:function(){this.closeForm=!1,this.saveForm(!1)},onbtnCancelclick:function(){this.close()}});