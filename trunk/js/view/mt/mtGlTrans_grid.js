jun.MtGlTransGrid=Ext.extend(Ext.grid.GridPanel,{title:"MtGlTrans",id:"docs-jun.MtGlTransGrid",viewConfig:{forceFit:!0},sm:new Ext.grid.RowSelectionModel({singleSelect:!0}),columns:[{header:"counter",sortable:!1,resizable:!0,dataIndex:"counter",hidden:!0,width:20},{header:"Kode Rekening",sortable:!1,resizable:!0,dataIndex:"account",width:100},{header:"Nama Rekening",sortable:!1,resizable:!0,dataIndex:"account",width:250,renderer:renderMtChartMaster},{header:"Debit",sortable:!1,resizable:!0,dataIndex:"debit",align:"right",renderer:Ext.util.Format.numberRenderer("0,0"),width:100},{header:"Kredit",sortable:!1,resizable:!0,dataIndex:"kredit",align:"right",renderer:Ext.util.Format.numberRenderer("0,0"),width:100}],initComponent:function(){this.store=jun.rztMtGlTrans,this.tbar={xtype:"toolbar",items:[{xtype:"button",text:"Tambah Debit",ref:"../btnAdd"},{xtype:"tbseparator"},{xtype:"button",text:"Tambah Kredit",ref:"../btnEdit"},{xtype:"tbseparator"},{xtype:"button",text:"Hapus",ref:"../btnDelete"}]},jun.MtGlTransGrid.superclass.initComponent.call(this),this.btnAdd.on("Click",this.loadForm,this),this.btnEdit.on("Click",this.loadEditForm,this),this.btnDelete.on("Click",this.deleteRec,this),this.getSelectionModel().on("rowselect",this.getrow,this)},getrow:function(a,b,c){this.record=c;var d=this.sm.getSelections()},loadForm:function(){var a=new jun.MtGlTransDetilWin({modez:0,debit:!0,title:"Tambah Debit"});a.show()},loadEditForm:function(){var a=new jun.MtGlTransDetilWin({modez:0,debit:!1,title:"Tambah Kredit"});a.show()},deleteRec:function(){Ext.MessageBox.confirm("Pertanyaan","Apakah anda yakin ingin menghapus data ini?",this.deleteRecYes,this)},deleteRecYes:function(a){if(a=="no")return;var b=this.sm.getSelected();if(b==""){Ext.MessageBox.alert("Warning","Anda Belum Memilih Jenis Pelayanan");return}Ext.Ajax.request({waitMsg:"Please Wait",url:"Mahkotrans/MtGlTrans/delete/id/"+b.json.counter,method:"POST",success:function(a){jun.rztMtGlTrans.reload(),Ext.Msg.alert("Pelayanan","Delete Berhasil")},failure:function(a){Ext.MessageBox.alert("error","could not connect to the database. retry later")}})}});